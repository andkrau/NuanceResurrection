; Listing generated by Microsoft (R) Optimizing Compiler Version 14.00.50727.762 

	TITLE	c:\NuanceExperimental\PresentationEngine.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	?API_PresentVOB@@YAXPAVMPE@@@Z			; API_PresentVOB
PUBLIC	?API_SetAngle@@YAXPAVMPE@@@Z			; API_SetAngle
PUBLIC	?API_ProgramChange@@YAXPAVMPE@@@Z		; API_ProgramChange
PUBLIC	?API_IsPresenting@@YAXPAVMPE@@@Z		; API_IsPresenting
PUBLIC	?API_CellStillDone@@YAXPAVMPE@@@Z		; API_CellStillDone
PUBLIC	?API_StartCellStill@@YAXPAVMPE@@@Z		; API_StartCellStill
PUBLIC	?API_CellReadDone@@YAXPAVMPE@@@Z		; API_CellReadDone
PUBLIC	?API_PresentCell@@YAXPAVMPE@@@Z			; API_PresentCell
PUBLIC	?API_ForwardSpeed@@YAXPAVMPE@@@Z		; API_ForwardSpeed
PUBLIC	?API_AUDIOStreamSelect@@YAXPAVMPE@@@Z		; API_AUDIOStreamSelect
PUBLIC	?API_StepOneFrame@@YAXPAVMPE@@@Z		; API_StepOneFrame
PUBLIC	?API_FindDiskType@@YAXPAVMPE@@@Z		; API_FindDiskType
PUBLIC	?API_GetFieldCounter@@YAXPAVMPE@@@Z		; API_GetFieldCounter
PUBLIC	?API_IsDVD@@YAXPAVMPE@@@Z			; API_IsDVD
PUBLIC	?API_IsNDK@@YAXPAVMPE@@@Z			; API_IsNDK
PUBLIC	?API_DVD@@YAXPAVMPE@@@Z				; API_DVD
PUBLIC	?API_NDK@@YAXPAVMPE@@@Z				; API_NDK
PUBLIC	?API_EnterPE@@YAXPAVMPE@@@Z			; API_EnterPE
PUBLIC	?SVC_API_Table@@3PAP6AXPAVMPE@@@ZA		; SVC_API_Table
PUBLIC	?DVD_API_Table@@3PAP6AXPAVMPE@@@ZA		; DVD_API_Table
EXTRN	?NullBiosHandler@@YAXPAVMPE@@@Z:PROC		; NullBiosHandler
_DATA	SEGMENT
__bad_alloc_Message DD FLAT:$SG12213
	ORG $+4
?SVC_API_Table@@3PAP6AXPAVMPE@@@ZA DD FLAT:?API_EnterPE@@YAXPAVMPE@@@Z ; SVC_API_Table
	DD	FLAT:?API_NDK@@YAXPAVMPE@@@Z
	DD	FLAT:?API_DVD@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_IsNDK@@YAXPAVMPE@@@Z
	DD	FLAT:?API_IsDVD@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_GetFieldCounter@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_FindDiskType@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
?DVD_API_Table@@3PAP6AXPAVMPE@@@ZA DD FLAT:?API_StepOneFrame@@YAXPAVMPE@@@Z ; DVD_API_Table
	DD	FLAT:?API_AUDIOStreamSelect@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_ForwardSpeed@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_PresentCell@@YAXPAVMPE@@@Z
	DD	FLAT:?API_CellReadDone@@YAXPAVMPE@@@Z
	DD	FLAT:?API_StartCellStill@@YAXPAVMPE@@@Z
	DD	FLAT:?API_CellStillDone@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_IsPresenting@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_ProgramChange@@YAXPAVMPE@@@Z
	DD	FLAT:?API_SetAngle@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?API_PresentVOB@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
	DD	FLAT:?NullBiosHandler@@YAXPAVMPE@@@Z
_DATA	ENDS
CONST	SEGMENT
$SG12213 DB	'bad allocation', 00H
CONST	ENDS
EXTRN	__RTC_Shutdown:PROC
EXTRN	__RTC_InitBase:PROC
;	COMDAT rtc$TMZ
; File c:\nuanceexperimental\presentationengine.cpp
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
; Function compile flags: /Odtp /RTCsu
rtc$IMZ	ENDS
_TEXT	SEGMENT
_mpe$ = 8						; size = 4
?API_EnterPE@@YAXPAVMPE@@@Z PROC			; API_EnterPE

; 11   : {

	push	ebp
	mov	ebp, esp

; 12   : }

	pop	ebp
	ret	0
?API_EnterPE@@YAXPAVMPE@@@Z ENDP			; API_EnterPE
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_NDK@@YAXPAVMPE@@@Z PROC				; API_NDK

; 15   : {

	push	ebp
	mov	ebp, esp

; 16   : }

	pop	ebp
	ret	0
?API_NDK@@YAXPAVMPE@@@Z ENDP				; API_NDK
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_DVD@@YAXPAVMPE@@@Z PROC				; API_DVD

; 19   : {

	push	ebp
	mov	ebp, esp

; 20   : }

	pop	ebp
	ret	0
?API_DVD@@YAXPAVMPE@@@Z ENDP				; API_DVD
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_FindDiskType@@YAXPAVMPE@@@Z PROC			; API_FindDiskType

; 23   : {

	push	ebp
	mov	ebp, esp

; 24   :   //Ballistic routine wont exit loop until FindDiskType returns non-zero
; 25   :   mpe->regs[0] = -1;

	mov	eax, DWORD PTR _mpe$[ebp]
	mov	DWORD PTR [eax], -1

; 26   : }

	pop	ebp
	ret	0
?API_FindDiskType@@YAXPAVMPE@@@Z ENDP			; API_FindDiskType
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_IsPresenting@@YAXPAVMPE@@@Z PROC			; API_IsPresenting

; 29   : {

	push	ebp
	mov	ebp, esp

; 30   :   //Return "not presenting" for now
; 31   :   mpe->regs[0] = 0;

	mov	eax, DWORD PTR _mpe$[ebp]
	mov	DWORD PTR [eax], 0

; 32   : }

	pop	ebp
	ret	0
?API_IsPresenting@@YAXPAVMPE@@@Z ENDP			; API_IsPresenting
_TEXT	ENDS
EXTRN	?SwapScalarBytes@@YIXPAI@Z:PROC			; SwapScalarBytes
EXTRN	?nuonEnv@@3PAVNuonEnvironment@@A:DWORD		; nuonEnv
EXTRN	__RTC_CheckEsp:PROC
EXTRN	@_RTC_CheckStackVars@8:PROC
; Function compile flags: /Odtp /RTCsu
_TEXT	SEGMENT
_fieldCounter$ = -8					; size = 4
_mpe$ = 8						; size = 4
?API_GetFieldCounter@@YAXPAVMPE@@@Z PROC		; API_GetFieldCounter

; 35   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
	mov	DWORD PTR [ebp-12], -858993460		; ccccccccH
	mov	DWORD PTR [ebp-8], -858993460		; ccccccccH
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH

; 36   :   uint32 fieldCounter;
; 37   :   
; 38   :   fieldCounter = *((uint32 *)&nuonEnv->systemBusDRAM[VIDEO_FIELD_COUNTER_ADDRESS & SYSTEM_BUS_VALID_MEMORY_MASK]);

	mov	eax, DWORD PTR ?nuonEnv@@3PAVNuonEnvironment@@A ; nuonEnv
	mov	ecx, DWORD PTR [eax+28]
	mov	edx, DWORD PTR [ecx+8388032]
	mov	DWORD PTR _fieldCounter$[ebp], edx

; 39   : 
; 40   : #ifdef LITTLE_ENDIAN
; 41   :   SwapScalarBytes(&fieldCounter);

	lea	ecx, DWORD PTR _fieldCounter$[ebp]
	call	?SwapScalarBytes@@YIXPAI@Z		; SwapScalarBytes

; 42   : #endif
; 43   : 
; 44   :   mpe->regs[0] = fieldCounter;

	mov	eax, DWORD PTR _mpe$[ebp]
	mov	ecx, DWORD PTR _fieldCounter$[ebp]
	mov	DWORD PTR [eax], ecx

; 45   : }

	push	edx
	mov	ecx, ebp
	push	eax
	lea	edx, DWORD PTR $LN5@API_GetFie
	call	@_RTC_CheckStackVars@8
	pop	eax
	pop	edx
	add	esp, 12					; 0000000cH
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
	npad	1
$LN5@API_GetFie:
	DD	1
	DD	$LN4@API_GetFie
$LN4@API_GetFie:
	DD	-8					; fffffff8H
	DD	4
	DD	$LN3@API_GetFie
$LN3@API_GetFie:
	DB	102					; 00000066H
	DB	105					; 00000069H
	DB	101					; 00000065H
	DB	108					; 0000006cH
	DB	100					; 00000064H
	DB	67					; 00000043H
	DB	111					; 0000006fH
	DB	117					; 00000075H
	DB	110					; 0000006eH
	DB	116					; 00000074H
	DB	101					; 00000065H
	DB	114					; 00000072H
	DB	0
?API_GetFieldCounter@@YAXPAVMPE@@@Z ENDP		; API_GetFieldCounter
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_IsNDK@@YAXPAVMPE@@@Z PROC				; API_IsNDK

; 48   : {

	push	ebp
	mov	ebp, esp

; 49   :   mpe->regs[0] = 0;

	mov	eax, DWORD PTR _mpe$[ebp]
	mov	DWORD PTR [eax], 0

; 50   : }

	pop	ebp
	ret	0
?API_IsNDK@@YAXPAVMPE@@@Z ENDP				; API_IsNDK
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_IsDVD@@YAXPAVMPE@@@Z PROC				; API_IsDVD

; 53   : {

	push	ebp
	mov	ebp, esp

; 54   :   mpe->regs[0] = 1;

	mov	eax, DWORD PTR _mpe$[ebp]
	mov	DWORD PTR [eax], 1

; 55   : }

	pop	ebp
	ret	0
?API_IsDVD@@YAXPAVMPE@@@Z ENDP				; API_IsDVD
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_StepOneFrame@@YAXPAVMPE@@@Z PROC			; API_StepOneFrame

; 58   : {

	push	ebp
	mov	ebp, esp

; 59   :   //mpe->regs[0] = 1;
; 60   : }

	pop	ebp
	ret	0
?API_StepOneFrame@@YAXPAVMPE@@@Z ENDP			; API_StepOneFrame
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_AUDIOStreamSelect@@YAXPAVMPE@@@Z PROC		; API_AUDIOStreamSelect

; 63   : {

	push	ebp
	mov	ebp, esp

; 64   :   //mpe->regs[0] = 1;
; 65   : }

	pop	ebp
	ret	0
?API_AUDIOStreamSelect@@YAXPAVMPE@@@Z ENDP		; API_AUDIOStreamSelect
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_ForwardSpeed@@YAXPAVMPE@@@Z PROC			; API_ForwardSpeed

; 68   : {

	push	ebp
	mov	ebp, esp

; 69   :   //mpe->regs[0] = 1;
; 70   : }

	pop	ebp
	ret	0
?API_ForwardSpeed@@YAXPAVMPE@@@Z ENDP			; API_ForwardSpeed
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_PresentVOB@@YAXPAVMPE@@@Z PROC			; API_PresentVOB

; 73   : {

	push	ebp
	mov	ebp, esp

; 74   :   //mpe->regs[0] = 1;
; 75   : }

	pop	ebp
	ret	0
?API_PresentVOB@@YAXPAVMPE@@@Z ENDP			; API_PresentVOB
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_StartCellStill@@YAXPAVMPE@@@Z PROC			; API_StartCellStill

; 78   : {

	push	ebp
	mov	ebp, esp

; 79   :   //mpe->regs[0] = 1;
; 80   : }

	pop	ebp
	ret	0
?API_StartCellStill@@YAXPAVMPE@@@Z ENDP			; API_StartCellStill
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_CellStillDone@@YAXPAVMPE@@@Z PROC			; API_CellStillDone

; 83   : {

	push	ebp
	mov	ebp, esp

; 84   :   //mpe->regs[0] = 1;
; 85   : }

	pop	ebp
	ret	0
?API_CellStillDone@@YAXPAVMPE@@@Z ENDP			; API_CellStillDone
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_PresentCell@@YAXPAVMPE@@@Z PROC			; API_PresentCell

; 88   : {

	push	ebp
	mov	ebp, esp

; 89   :   //mpe->regs[0] = 1;
; 90   : }

	pop	ebp
	ret	0
?API_PresentCell@@YAXPAVMPE@@@Z ENDP			; API_PresentCell
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_CellReadDone@@YAXPAVMPE@@@Z PROC			; API_CellReadDone

; 93   : {

	push	ebp
	mov	ebp, esp

; 94   :   //mpe->regs[0] = 1;
; 95   : }

	pop	ebp
	ret	0
?API_CellReadDone@@YAXPAVMPE@@@Z ENDP			; API_CellReadDone
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_ProgramChange@@YAXPAVMPE@@@Z PROC			; API_ProgramChange

; 98   : {

	push	ebp
	mov	ebp, esp

; 99   :   mpe->regs[0] = 0;

	mov	eax, DWORD PTR _mpe$[ebp]
	mov	DWORD PTR [eax], 0

; 100  : }

	pop	ebp
	ret	0
?API_ProgramChange@@YAXPAVMPE@@@Z ENDP			; API_ProgramChange
; Function compile flags: /Odtp /RTCsu
_mpe$ = 8						; size = 4
?API_SetAngle@@YAXPAVMPE@@@Z PROC			; API_SetAngle

; 103  : {

	push	ebp
	mov	ebp, esp

; 104  :   //mpe->regs[0] = 1;
; 105  : }

	pop	ebp
	ret	0
?API_SetAngle@@YAXPAVMPE@@@Z ENDP			; API_SetAngle
_TEXT	ENDS
PUBLIC	?InitDVDJumpTable@@YAXXZ			; InitDVDJumpTable
EXTRN	?PatchJumptable@@YAIII@Z:PROC			; PatchJumptable
; Function compile flags: /Odtp /RTCsu
_TEXT	SEGMENT
_i$41359 = -4						; size = 4
?InitDVDJumpTable@@YAXXZ PROC				; InitDVDJumpTable

; 316  : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH

; 317  :   for(uint32 i = 0; i < 1024; i++)

	mov	DWORD PTR _i$41359[ebp], 0
	jmp	SHORT $LN3@InitDVDJum
$LN2@InitDVDJum:
	mov	eax, DWORD PTR _i$41359[ebp]
	add	eax, 1
	mov	DWORD PTR _i$41359[ebp], eax
$LN3@InitDVDJum:
	cmp	DWORD PTR _i$41359[ebp], 1024		; 00000400H
	jae	SHORT $LN4@InitDVDJum

; 318  :   {
; 319  :     PatchJumptable(DVD_JUMPTABLE_START + (i << 3UL), ROM_PE_BASE + (i << 3));

	mov	ecx, DWORD PTR _i$41359[ebp]
	lea	edx, DWORD PTR [ecx*8-268402688]
	push	edx
	mov	eax, DWORD PTR _i$41359[ebp]
	lea	ecx, DWORD PTR [eax*8-2147450880]
	push	ecx
	call	?PatchJumptable@@YAIII@Z		; PatchJumptable
	add	esp, 8
	jmp	SHORT $LN2@InitDVDJum
$LN4@InitDVDJum:

; 320  :   }
; 321  : }

	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
?InitDVDJumpTable@@YAXXZ ENDP				; InitDVDJumpTable
_TEXT	ENDS
PUBLIC	?CallPEHandler@@YAXPAVMPE@@I@Z			; CallPEHandler
EXTRN	__RTC_UninitUse:PROC
; Function compile flags: /Odtp /RTCsu
_TEXT	SEGMENT
tv72 = -16						; size = 4
$T43491 = -9						; size = 1
_offset$ = -8						; size = 4
_table$ = -4						; size = 4
_mpe$ = 8						; size = 4
_address$ = 12						; size = 4
?CallPEHandler@@YAXPAVMPE@@I@Z PROC			; CallPEHandler

; 324  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H
	push	esi
	mov	eax, -858993460				; ccccccccH
	mov	DWORD PTR [ebp-16], eax
	mov	DWORD PTR [ebp-12], eax
	mov	DWORD PTR [ebp-8], eax
	mov	DWORD PTR [ebp-4], eax
	mov	BYTE PTR $T43491[ebp], 0

; 325  :   NuonBiosHandler *table;
; 326  :   uint32 offset;
; 327  : 
; 328  :   if(((address & 0x8FFFFFFFUL) < SVC_API_JUMPTABLE_START) || ((address & 0x8FFFFFFFUL) >= PTR_API_JUMPTABLE_START))

	mov	eax, DWORD PTR _address$[ebp]
	and	eax, -1879048193			; 8fffffffH
	cmp	eax, -2147450880			; 80008000H
	jb	SHORT $LN12@CallPEHand
	mov	ecx, DWORD PTR _address$[ebp]
	and	ecx, -1879048193			; 8fffffffH
	cmp	ecx, -2147442688			; 8000a000H
	jb	SHORT $LN13@CallPEHand
$LN12@CallPEHand:

; 329  :   {
; 330  :     return;

	jmp	$LN14@CallPEHand

; 331  :   }
; 332  :   else

	jmp	$LN14@CallPEHand
$LN13@CallPEHand:

; 333  :   {
; 334  :     offset = (address >> 3) & 0x7F;

	mov	edx, DWORD PTR _address$[ebp]
	shr	edx, 3
	and	edx, 127				; 0000007fH
	mov	DWORD PTR _offset$[ebp], edx

; 335  :     switch((address >> 10) & 0x7)

	mov	eax, DWORD PTR _address$[ebp]
	shr	eax, 10					; 0000000aH
	and	eax, 7
	mov	DWORD PTR tv72[ebp], eax
	cmp	DWORD PTR tv72[ebp], 7
	ja	SHORT $LN9@CallPEHand
	mov	ecx, DWORD PTR tv72[ebp]
	jmp	DWORD PTR $LN19@CallPEHand[ecx*4]
$LN8@CallPEHand:

; 336  :     {
; 337  :       case 0:
; 338  :         table = SVC_API_Table;

	mov	BYTE PTR $T43491[ebp], 1
	mov	DWORD PTR _table$[ebp], OFFSET ?SVC_API_Table@@3PAP6AXPAVMPE@@@ZA ; SVC_API_Table

; 339  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN7@CallPEHand:

; 340  :       case 1:
; 341  :         //table = Audio_API_Table;
; 342  :         return;

	jmp	SHORT $LN14@CallPEHand

; 343  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN6@CallPEHand:

; 344  :       case 2:
; 345  :         //table = CDA_API_Table;
; 346  :         return;

	jmp	SHORT $LN14@CallPEHand

; 347  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN5@CallPEHand:

; 348  :       case 3:
; 349  :         table = DVD_API_Table;

	mov	BYTE PTR $T43491[ebp], 1
	mov	DWORD PTR _table$[ebp], OFFSET ?DVD_API_Table@@3PAP6AXPAVMPE@@@ZA ; DVD_API_Table

; 350  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN4@CallPEHand:

; 351  :       case 4:
; 352  :         //offset &= 0x3F;
; 353  :         //table = DVDA_API_Table;
; 354  :         //if((address & 0x200)
; 355  :         //{
; 356  :         //  table = NTC_API_Table;
; 357  :         //}
; 358  :         return;

	jmp	SHORT $LN14@CallPEHand

; 359  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN3@CallPEHand:

; 360  :       case 5:
; 361  :         //table = SVR_API_Table;
; 362  :         return;

	jmp	SHORT $LN14@CallPEHand

; 363  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN2@CallPEHand:

; 364  :       case 6:
; 365  :         //table = VCD_API_Table;
; 366  :         return;

	jmp	SHORT $LN14@CallPEHand

; 367  :         break;

	jmp	SHORT $LN9@CallPEHand
$LN1@CallPEHand:

; 368  :       case 7:
; 369  :         //table = VIDEO_API_Table;
; 370  :         return;

	jmp	SHORT $LN14@CallPEHand
$LN9@CallPEHand:

; 371  :         break;
; 372  :     }
; 373  :   
; 374  :     table[offset](mpe);

	cmp	BYTE PTR $T43491[ebp], 0
	jne	SHORT $LN16@CallPEHand
	push	OFFSET $LN17@CallPEHand
	call	__RTC_UninitUse
	add	esp, 4
$LN16@CallPEHand:
	mov	esi, esp
	mov	edx, DWORD PTR _mpe$[ebp]
	push	edx
	mov	eax, DWORD PTR _offset$[ebp]
	mov	ecx, DWORD PTR _table$[ebp]
	mov	edx, DWORD PTR [ecx+eax*4]
	call	edx
	add	esp, 4
	cmp	esi, esp
	call	__RTC_CheckEsp
$LN14@CallPEHand:

; 375  :   }
; 376  : }

	pop	esi
	add	esp, 16					; 00000010H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
$LN18@CallPEHand:
$LN17@CallPEHand:
	DB	116					; 00000074H
	DB	97					; 00000061H
	DB	98					; 00000062H
	DB	108					; 0000006cH
	DB	101					; 00000065H
	DB	0
	npad	3
$LN19@CallPEHand:
	DD	$LN8@CallPEHand
	DD	$LN7@CallPEHand
	DD	$LN6@CallPEHand
	DD	$LN5@CallPEHand
	DD	$LN4@CallPEHand
	DD	$LN3@CallPEHand
	DD	$LN2@CallPEHand
	DD	$LN1@CallPEHand
?CallPEHandler@@YAXPAVMPE@@I@Z ENDP			; CallPEHandler
_TEXT	ENDS
END
